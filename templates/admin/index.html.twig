{% extends 'base.html.twig' %}

{% block title %}Administration
{% endblock %}

{% block body %}
	<div class="container mt-3">
		<h1>Administration des Produits</h1>

		<div class="row flex-wrap justify-content-around g-2 my-3">
			{% for product in products %}
				<a class="col-lg-3 col-md-4 col-6 mx-2 card text-decoration-none" href="{{ path('product_admin' , {id:product.id}) }}">
					<div class="card-body">
						<div class="d-flex flex-column justify-content-center text-center">
							<div class="card-title fs-5 text-decoration-underline">{{ product.name }}
							</div>
							<div class="card-title fs-5">
								Catégorie :
								{{ product.category.name }}</div>
						</div>
						<div class="card-subtitle my-2 text-body-secondary d-flex justify-content-center">
							<div class="">Prix HT :
							</div>
							<div class="text-success fw-bold">&nbsp{{ product.baseprice }}€</div>
						</div>
						<div class="card-subtitle my-2 text-body-secondary text-center">
							{{ product.datecreated|date('d/m/Y') }}
						</div>
						<div class="card-subtitle my-2 text-body-secondary text-center">
							Promotion :
							{% if (product.isdiscount == 1) %}
								Oui
							{% else %}
								Non
							{% endif %}
						</div>
						<div class="card-subtitle my-2 text-body-secondary text-center">
							Visible :
							{% if (product.isvisible == 1) %}
								Oui
							{% else %}
								Non
							{% endif %}
						</div>

						{# Faire 4 boutons pour crud sur chaque produit #}
					</div>
				</a>
			{% else %}
				<p>Aucun produit n'a été trouvé</p>
			{% endfor %}
		</div>
	</div>
{% endblock %}
